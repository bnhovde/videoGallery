{"version":3,"sources":["../../src/scripts/lib/helpers.js","../../src/scripts/lib/panel.js","../../src/scripts/lib/videoData.js","../../src/scripts/lib/videoGallery.js","../../src/scripts/lib/videoPlayer.js","../../src/scripts/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["var ns = ns || {};\n\n(function(window, document, undefined) {\n\n    'use strict';\n\n    /**\n    * helpers Module\n    */\n\n    ns.helpers = (function(){\n\n        /**\n        * @name closest\n        * @desc Walks up the DOM and returns the closest parent element of supplied tag type\n        * @attr origin (HTMLElement) - Start element in DOM\n        * @attr elem (string) - Tagname to look for\n        */\n        var closest = function(origin, elem) {\n\t\t\t\n\t\t\tvar current = origin;\n\t\t\telem = elem.toLowerCase();\n\t\t\t\n\t\t\twhile (current.tagName.toLowerCase() !== 'body' && current.tagName.toLowerCase() !== elem) {\n\t\t\t\tcurrent = current.parentNode;\n\t\t\t}\n            \n            if (current.tagName.toLowerCase() === 'body') { return false; }\n\t\t\treturn current;\n\n        };\n\n        /**\n        * @name closestClass\n        * @desc Walks up the DOM and returns the closest parent element of supplied class\n        * @attr origin (HTMLElement) - Start element in DOM\n        * @attr className (string) - Classname to look for\n        */\n        var closestClass = function(origin, _className) {\n\t\t\t\n\t\t\tvar current = origin;\n\t\t\tvar className = _className.toLowerCase();\n\t\t\t\n\t\t\twhile (current.tagName.toLowerCase() !== 'body' && !_hasClass(current, className) ) {\n\t\t\t\tcurrent = current.parentNode;\n\t\t\t}\n            \n            if (current.tagName.toLowerCase() === 'body') { return false; }\n\t\t\treturn current;\n\n        };\n        \n        /**\n        * @name _hasClass\n        * @desc Checks if element has class, returns true if so\n        * @attr el (HTMLelement) - Element to check\n        * @attr className (string) - Class to look for\n        */\n        var _hasClass = function( el, className ) {\n            if (el.classList) {\n                return el.classList.contains(className);\n            } else {\n                return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n            }\n        }\n        \n        /**\n        * @name getQueryVariable\n        * @desc Checks URL for query variable\n        * @attr variable (string) - var to check\n        * @returns value (string), false if none found\n        */\n        var getQueryVariable = function(variable) {\n            var query = window.location.search.substring(1);\n            var vars = query.split('&');\n            \n            for (var i=0;i<vars.length;i++) {\n                var pair = vars[i].split('=');\n                if ( pair[0] == variable ){ return pair[1]; }\n            }\n            return(false);\n        }\n\n        //////////////////\n\n        return {\n\t\t\tclosest,\n            closestClass\n        };\n\n    })();\n  \n})(window, document);","var ns = ns || {};\n\nns.panel = (function(){\n    \n    /**\n    * Sliding panel\n    */\n    \n    let settings = {};\n    const defaults = {\n        initialState  : 'hidden',\n        DOM : {\n            panel       : document.getElementById('panel'),\n            close       : document.getElementById('panel-close'),\n            play        : document.getElementById('panel-play'),\n            title       : document.getElementById('panel-title'),\n            year        : document.getElementById('panel-year'),\n            description : document.getElementById('panel-description'),\n            actors      : document.getElementById('panel-actors'),\n            directors   : document.getElementById('panel-directors')\n        }\n    }\n\n    /**\n     * init\n     * \n     * Initialise panel\n     * @params userOptions (object) - User config\n     */  \n    const init = function(userOptions) {\n        \n        // Merge settings with defaults\n        settings = Object.assign(defaults, userOptions);\n        \n        // Set initial state\n        settings.DOM.panel.setAttribute('data-panel-state', settings.initialState);\n\n        // Attach event listeners to buttons\n        settings.DOM.close.addEventListener('click', hide, false);\n        settings.DOM.play.addEventListener('click', play, false);\n    }\n    \n    /**\n     * show\n     * \n     * Show the bottom panel with movie info\n     * @params movieId (object)        - JSON data\n     */\n    const show = function(movieId){\n        const movie = ns.videoData.get(movieId);\n        const { id, description, title, images: { cover }, meta: { releaseYear } } = movie;\n\n        // Create directors and actors strings\n        const actors = movie.meta.actors.map( d => d.name).join(', ');\n        const directors = movie.meta.directors.map( d => d.name).join(', ');\n        \n        // Populate dom elements\n        settings.DOM.title.textContent = title;\n        settings.DOM.year.textContent = releaseYear;\n        settings.DOM.description.textContent = description;\n        settings.DOM.actors.textContent = `Actors: ${actors}`;\n        settings.DOM.directors.textContent = `Directors: ${directors}`;     \n\n        settings.DOM.panel.setAttribute('data-panel-state', 'visible');\n    }\n    \n    /**\n     * hide\n     * \n     * Hide the bottom panel\n     * @param movieId    (int)  - ID of movie\n     */\n    const hide = function(){\n        settings.DOM.panel.setAttribute('data-panel-state', 'hidden');\n    }\n    \n    /**\n     * play\n     * \n     * play the selected video\n     */\n    const play = function(){\n        hide();\n        ns.videoPlayer.loadVideo();\n    }\n    \n    //////////////////\n    \n    return {\n        init,\n        show,\n        hide\n    }\n    \n}());","var ns = ns || {};\n\nns.videoData = (function(){\n    \n    /**\n    * Video data store\n    */\n    \n    let settings = {};\n    const defaults = {\n        quality     : 1.0,\n        videoLimit  : 10\n    }\n\n    /**\n     * init\n     * \n     * Initialise videoController\n     * @params userOptions (object) - User config\n     */  \n    const init = function(userOptions) {\n        \n        // Merge settings with defaults\n        settings = Object.assign(defaults, userOptions);\n\n    }\n    \n    /**\n     * set\n     * \n     * Set movie store\n     * @params data (object)        - JSON data\n     */\n    const set = function(movieData){\n        settings.data = movieData; \n    }\n    \n    /**\n     * get\n     * \n     * Get movie data\n     * @param movieId    (int)      - ID of movie\n     * @returns response (object)   - movie data\n     */\n    const get = function(movieId = 1){\n        return settings.data.find( movie => parseInt(movie.id, 10) === parseInt(movieId, 10)  );    \n    }\n    \n    //////////////////\n    \n    return {\n        init,\n        set,\n        get\n    }\n    \n}());","var ns = ns || {};\n\nns.videoGallery = (function(){\n    \n    /**\n    * Video Controller\n    */\n    \n    let settings = {};\n    const defaults = {\n        quality     : 1.0,\n        videoLimit  : 10,\n        DOM : {\n            container   : document.getElementById('cover-container')\n        }\n    }\n\n    /**\n     * init\n     * \n     * Initialise videoController\n     * @param userOptions (object) - user settings\n     */  \n    const init = function(userOptions) {\n        \n        // Merge settings with defaults\n        settings = Object.assign(defaults, userOptions);\n    }\n\n    /**\n     * render\n     * \n     * Process movie data and render to DOM\n     * @param data (object) - Movie data to process\n     */\n    const render = function(data){\n        \n        let markup = '';\n        \n        // Loop over results and pick out desired data\n        for (let movie of data) {\n            markup += createMovieMarkup(movie);\n        }\n        \n        // Add to DOM\n        settings.DOM.container.innerHTML = markup;\n    }\n    \n    /**\n     * createMovieMarkup\n     * \n     * Create markup for a single movie item\n     * @param movie     (object) - Movie object\n     * @returns markup  (string) - generated markup\n     */\n    const createMovieMarkup = function(movie){\n        \n        const { id, title, images: { cover }, meta: { releaseYear } } = movie;\n        \n        let markup = `\n            <button class=\"video-cover\" data-video-id=\"${id}\">\n                <div class=\"video-cover__cover\" style=\"background-image: url('assets/images/covers/${cover}');\">\n                    <div class=\"video-cover__overlay\">\n                        <svg class=\"icon-eye\"><use xlink:href=\"#icon-eye\"></use></svg>\n                    </div>\n                </div>\n                <h4 class=\"video-cover__title\">${title}</h4>\n                <p class=\"video-cover__year\">${releaseYear}</p>\n            </button>`;\n        \n        return markup;\n    }\n    \n    //////////////////\n    \n    return {\n        init,\n        render\n    }\n    \n}());","var ns = ns || {};\n\nns.videoPlayer = (function(){\n    \n    /**\n    * Video data store\n    */\n    \n    let settings = {};\n    const defaults = {\n        quality     : 1.0,\n        videoLimit  : 10,\n        videoSupport: [],\n        videoSources : [\n            { type : 'mp4', element : document.getElementById('mp4video') }, \n            { type : 'webm', element : document.getElementById('webmvideo') }, \n            { type : 'ogv', element : document.getElementById('ogvvideo') }\n        ],\n        DOM : {\n            video       : document.getElementById('video'),\n            container   : document.getElementById('video-container'),\n            title       : document.getElementById('video-title'),\n            year        : document.getElementById('video-year'),\n            directors   : document.getElementById('video-directors'),\n            actors      : document.getElementById('video-actors')\n        }\n    }\n\n    /**\n     * init\n     * \n     * Initialise videoController\n     * @params userOptions (object) - User config\n     */  \n    const init = function(userOptions) {\n        \n        // Merge settings with defaults\n        settings = Object.assign(defaults, userOptions);\n        \n        // Check browser video support\n        const myVideo = document.createElement('video');\n\n        if (myVideo.canPlayType('video/mp4')) { settings.videoSupport.push('.m4v'); }\n        if (myVideo.canPlayType('video/ogv')) { settings.videoSupport.push('.ogv'); }\n        if (myVideo.canPlayType('video/webm')) { settings.videoSupport.push('.webm'); }\n    }\n    \n    /**\n     * show\n     * \n     * Shows movie in player\n     * @params movieId (int) - ID of movie\n     */\n    const show = function(movieId = 1){\n        const movie = ns.videoData.get(movieId);\n        const { streams, title, images: { placeholder }, meta: { releaseYear } } = movie;\n        \n        // Create directors and actors strings\n        const actors = movie.meta.actors.map( d => d.name).join(', ');\n        const directors = movie.meta.directors.map( d => d.name).join(', ');\n        \n        // Populate dom elements\n        settings.DOM.title.textContent = title;\n        settings.DOM.actors.textContent = `Actors: ${actors}`;\n        settings.DOM.directors.textContent = `Directors: ${directors}`;\n        settings.DOM.year.textContent = `(${releaseYear})`;\n        settings.DOM.video.style.backgroundImage = `url(\"assets/images/${placeholder}\")`;\n        \n        // Update the video sources\n        updateSources(streams);\n    }\n    \n    /**\n     * updateSources\n     * \n     * update the video source elements\n     * @params streams (object) - video sources\n     */\n    const updateSources = function(streams){\n        \n        settings.DOM.video.pause();\n        \n        // Populate new video source\n        settings.videoSources.map( source => {\n            source.element.src = '';\n            let newSrc = streams.find( stream => stream.type === source.type );  \n            if (newSrc !== undefined) { \n                source.element.src = newSrc.url;\n                source.element.setAttribute('src', newSrc.url);\n            }\n        })\n        \n        settings.DOM.video.load();\n    }\n    \n    /**\n     * play\n     * \n     * Plays currently shown movie\n     */\n    const loadVideo = function(){\n        \n        // Play the video when loaded\n        if (settings.DOM.video.readyState >= settings.DOM.video.HAVE_FUTURE_DATA) {\n            play();\n        } else {\n            settings.DOM.video.addEventListener('canplay', play );\n            settings.DOM.video.load();\n            settings.DOM.container.setAttribute('data-video-state', 'loading');\n        }        \n    }\n    \n    /**\n     * play\n     * \n     * Plays currently shown movie\n     */\n    const play = function(){\n        settings.DOM.video.play();\n        settings.DOM.container.setAttribute('data-video-state', 'ready');\n    }\n    \n    //////////////////\n    \n    return {\n        init,\n        show,\n        loadVideo\n    }\n    \n}());","var ns = ns || {};\n\n(function(window, document, undefined) {\n    \n    /**\n    * Main.js\n    */\n\n    // App config and variables\n    var DOM = {\n        coverContainer: document.getElementById('cover-container')\n    };\n\n\t// Initialise modules\n\tns.videoData.init();\n\tns.videoGallery.init();\n\tns.videoPlayer.init();\n\tns.panel.init();\n    \n    // Load videodata from API\n    fetch('api/movies.json')\n        .then(function(response) {\n            return response.json()\n        }).then(function(json) {\n            ns.videoData.set(json)\n            ns.videoGallery.render(json)\n            ns.videoPlayer.show()\n        }).catch(function(error) {\n            console.log('Error in fetching chain: ', error)\n        });\n        \n    \n    // Event listeners\n    DOM.coverContainer.addEventListener('click', function(e){\n        \n        var clickedEl = e.target;\n        var button = ns.helpers.closestClass(clickedEl, 'video-cover');\n        \n        if (button) {\n            var videoId = button.getAttribute('data-video-id');\n            ns.videoPlayer.show(videoId);\n            ns.panel.show(videoId);\n        }\n    });\n\n\n})(window, document);"]}